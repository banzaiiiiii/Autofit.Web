
@using Microsoft.AspNetCore.Http.Features

@{
    var consentFeature = Context.Features.Get<ITrackingConsentFeature>();
    var showBanner = !consentFeature?.CanTrack ?? false;
    var cookieString = consentFeature?.CreateConsentCookie();
}

@*@if (showBanner)
{*@
    <div id="cookieConsent" class="alert alert-info alert-dismissible fade show" role="alert">
        Um Ihnen ein optimales Websiteerlebnis zu bieten, werden Cookies zu Technischen-, Performance- und Marketingzwecken verwendet. Sie können Ihre Cookie-Einstellungen jetzt oder auch später anpassen und widerrufen. Nur die technischen Cookies sind unbedingt erforderlich, damit Sie ein reibungsloses Surferlebnis auf unserer Website erhalten.
        Mit einem schnellen Klick auf „Akzeptieren“ stimmen Sie der Verwendung von Cookies zu. <a asp-page="/Datenschutz">Learn More</a>.
        <button type="button" class="accept-policy close" data-dismiss="alert" aria-label="Close" data-cookie-string="@cookieString">
            <span aria-hidden="true">Akzeptieren</span>
        </button>
    </div>
    <script>
        (function () {
            var button = document.querySelector("#cookieConsent button[data-cookie-string]");
            button.addEventListener("click", function (event) {
                document.cookie = button.dataset.cookieString;
            }, false);
        })();
    </script>
@*}*@
